# Deployment Process for Flutter Apps

## Requirements

* Select what branch/commit to deploy
* Select all different deployments at once 
* Fetch version from Fire base?
* Fetch config from repo
* Select if build and deploy APK or AAB 
* Select where to deploy to


## Types of deployments

* Wab (flavors)
* Android (flavors)
* Functions
* iOS (flavors)
* Other Firebase stuff (rules)
* Widgetbook

## Current steps to deploy
* check out code
* Debug print inputs
* Check SOPS key
* Prepare deployment
  * Set version from override (get from Firebase)
  * Install SOPS
  * Decrypt sops
  * verify decrypt SOPS
  * Load from .env
  * Generate release notes
  * Update analysis_options
  * Install Firebase CLI
  * Test Firebase Service account
  * Install npm claps and build functions
  * Setup Flutter
  * Show Flutter info
  * Cache Flutter deps
  * Get Flutter deps
  * Fhutter analyze

* Android Application Deployment
  * Build and deploy Aplk
  * Cache Gradle leps
  * Build Flutter APh
  * Show APlK into
  * Store APK artifact
  * Extract Firebase APD ID
  * Deploy to Fire base App Distributi â‘£on

* Web Application Deployment
  * Build and deploy Web
  * verify firebase/ GCP permissions
  * Build Flutter Web
  * Deploy to Firebase Hostings and Functions